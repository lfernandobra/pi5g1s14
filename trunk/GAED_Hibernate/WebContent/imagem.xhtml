<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
	<title>Imagens</title>
	<script src="scripts/scripts.js" type="text/javascript"></script>
	<link rel="stylesheet" href="styles/layout_crud.css" type="text/css" />
</h:head>
<body>

<ui:decorate template="/header.xhtml">
	<ui:define name="center">


		<h2>Imagens</h2>

		<div id="Lista">
			<p:separator />

			<p:toolbar styleClass="toolbar">
				<f:facet name="left">
				<p:commandButton value="Incluir foto" type="button" onclick="PF('dialogIncluirFoto').show();" icon="ui-icon-image" />
				</f:facet>
			</p:toolbar>
			
			
			<p:dialog header="Incluir Foto" widgetVar="dialogIncluirFoto"
			modal="true" resizable="true" id="formCadFoto" appendTo="@(body)">
			<h:form id="IncluirFoto" styleClass="IncluirFoto">
				<p:focus context="@form" />
				<h4>Selecione uma foto :</h4>
				<p:separator />
			<p:growl id="growl" showDetail="true" life="4000" />
				<p:fileUpload fileUploadListener="#{ImagemBean.fileUpload}" size="50"
					mode="advanced" skinSimple="true" update="growl" sizeLimit="2000000000"
					fileLimit="1" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					label="Selecionar" uploadLabel="Enviar" cancelLabel="Cancelar"
					id="IncluirAnexo"
					invalidSizeMessage="Limite excedido: Não possivel o envio"
					invalidFileMessage="Formato de arquivo não permitido"
					dragDropSupport="true">
					<f:converter converterId="anexoConverter" />
				</p:fileUpload>
				</h:form>
			</p:dialog>
			
		<div id="immg">
		<p:galleria value="#{ImagemBean.imagems}" var="imagem" panelWidth="500"
			panelHeight="320" showCaption="true">
			<p:graphicImage value="temp/#{ImagemBean.verImagem(imagem.imagem,imagem.nome)}"
				alt="Image Description for #{imagem.nome}" title="#{imagem.nome}" />
		</p:galleria>
		</div>
		
	</div>
	</ui:define>
	</ui:decorate>
</body>
</html>
