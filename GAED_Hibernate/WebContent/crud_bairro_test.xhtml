<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<h:head>
		<title>Bairro</title>
	</h:head>
	<body>
	<h:form id="form">
		<p:contextMenu for="bairros">
			<p:menuitem value="View" update="bairroDetail" icon="ui-icon-search"
				oncomplete="PF('bairroDialog').show()" />
			<p:menuitem value="Delete" update="bairros" icon="ui-icon-close"
				actionListener="#{BairroBean.excluir}" />
			<p:menuitem value="Alter" update="bairros" icon="ui-icon-close"
				oncomplete="PF('bairroDialogAlter').show()" />	
		</p:contextMenu>
		<p:dataTable id="bairros" var="bairro" value="#{BairroBean.bairros}"
			rowKey="#{bairro.id}" selection="#{BairroBean.bairro}"
			selectionMode="single">
		
			<f:facet name="header">
            	Listagem de bairros (*clique com o direito para mais opções)
        	</f:facet>
			<p:column headerText="ID">
				<h:outputText value="#{bairro.id}" />
			</p:column>
			<p:column headerText="Nome">
				<h:outputText value="#{bairro.nome}" />
			</p:column>
			<p:column headerText="Municipio">
				<h:outputText value="#{bairro.municipio.nome}" />
			</p:column>
		</p:dataTable>

		<p:dialog header="Informações" widgetVar="bairroDialog" modal="true"
			showEffect="fade" hideEffect="fade" resizable="false">
			<p:outputPanel id="bairroDetail" style="text-align:center;">
				<p:panelGrid columns="2"
					rendered="#{not empty BairroBean.bairro}"
					columnClasses="label,value">
					<f:facet name="header">
						
					</f:facet>

					<h:outputText value="ID:" />
					<h:outputText value="#{BairroBean.bairro.id}" />

					<h:outputText value="Nome" />
					<h:outputText value="#{BairroBean.bairro.nome}" />
					
					<h:outputText value="Municipio" />
					<h:outputText value="#{BairroBean.bairro.municipio.nome}" />
					
					<h:outputText value="Unidade Federativa" />
					<h:outputText value="#{BairroBean.bairro.municipio.uf.nome}" />

					
				</p:panelGrid>
			</p:outputPanel>
		</p:dialog>
		<p:dialog header="Bairro Informações" widgetVar="bairroDialogAlter" modal="true"
			showEffect="fade" hideEffect="fade" resizable="false">
			<p:outputPanel id="bairroDetailAlter" style="text-align:center;">
				<p:panelGrid columns="2"
					rendered="#{not empty BairroBean.bairro}"
					columnClasses="label,value"
					id="panelAlterar">
					<f:facet name="header">
						
					</f:facet>

					<h:outputText value="Nome:" />
					<p:inputText value="#{BairroBean.bairro.nome}" />
					<h:outputText value="Municipio:" />
					<h:selectOneMenu value="#{BairroBean.bairro.municipio}">
						<f:selectItem itemLabel="-- Selecione --" noSelectionOption="true" />
						<f:selectItems value="#{MunicipioBean.municipios}" var="municipio"
							itemValue="#{municipio}" itemLabel="#{municipio.nome}" />
					</h:selectOneMenu>
					<p:commandButton value="Alterar"
						actionListener="#{BairroBean.alterar}"
						update="bairros"
						oncomplete="PF('bairroDialogAlter').hide();" />
					<p:commandButton value="Limpar" update="panelAlterar"
						process="@this">
						<p:resetInput target="panelAlterar" />
					</p:commandButton>

				</p:panelGrid>
			</p:outputPanel>
		</p:dialog>
		
		
	</h:form>


</body>
</html>